# Comparing `tmp/bdrc_util-1.0.1-py3-none-any.whl.zip` & `tmp/bdrc_util-1.0.2-py3-none-any.whl.zip`

## zipinfo {}

```diff
@@ -1,23 +1,28 @@
-Zip file size: 44254 bytes, number of entries: 41
+Zip file size: 57226 bytes, number of entries: 46
 -rw-r--r--  2.0 unx     2823 b- defN 23-Nov-08 19:07 archive_ops/CleanCurrent.py
--rw-r--r--  2.0 unx     9280 b- defN 24-Mar-11 19:37 archive_ops/DipLog.py
+-rw-r--r--  2.0 unx    14677 b- defN 24-Apr-26 16:05 archive_ops/DeepArchive.py
+-rw-r--r--  2.0 unx     2022 b- defN 24-Apr-24 14:50 archive_ops/DeepArchiveParser.py
+-rw-r--r--  2.0 unx     9518 b- defN 24-Apr-25 20:06 archive_ops/DipLog.py
 -rw-r--r--  2.0 unx     4096 b- defN 23-Nov-08 19:07 archive_ops/GetReadyWorksForStates.py
+-rw-r--r--  2.0 unx    10326 b- defN 24-May-06 18:15 archive_ops/InvertWork.py
+-rw-r--r--  2.0 unx      137 b- defN 24-Apr-23 19:20 archive_ops/InvertWorkException.py
 -rw-r--r--  2.0 unx      249 b- defN 23-Nov-08 19:11 archive_ops/Resolvers.py
 -rw-r--r--  2.0 unx     2851 b- defN 23-Nov-08 19:07 archive_ops/SaveWorkFacts.py
 -rw-r--r--  2.0 unx     6130 b- defN 23-Nov-08 19:07 archive_ops/TestGetReadyWorksForStates.py
 -rw-r--r--  2.0 unx        0 b- defN 23-Nov-08 19:07 archive_ops/__init__.py
--rw-r--r--  2.0 unx     2118 b- defN 23-Nov-17 21:46 archive_ops/api.py
+-rw-r--r--  2.0 unx     2140 b- defN 24-Apr-23 14:49 archive_ops/api.py
 -rw-r--r--  2.0 unx     4023 b- defN 24-Mar-07 20:55 archive_ops/locators.py
 -rw-r--r--  2.0 unx     2021 b- defN 21-Apr-29 21:59 archive_ops/shell.py
 -rw-r--r--  2.0 unx     2438 b- defN 24-Feb-20 15:37 archive_ops/shell_ws.py
--rw-r--r--  2.0 unx     9577 b- defN 24-Mar-11 19:10 archive_ops/test/DipLogParserTest.py
+-rw-r--r--  2.0 unx     9577 b- defN 24-Mar-12 15:24 archive_ops/test/DipLogParserTest.py
 -rw-r--r--  2.0 unx      984 b- defN 23-Nov-08 19:07 archive_ops/test/DipLogTest.py
 -rw-r--r--  2.0 unx      685 b- defN 21-Oct-05 16:06 archive_ops/test/GetDIPReadyTest.py
 -rw-r--r--  2.0 unx        0 b- defN 21-Jul-14 23:35 archive_ops/test/__init__.py
+-rw-r--r--  2.0 unx     7385 b- defN 24-Apr-23 14:49 archive_ops/test/inversion_bag_test.py
 -rw-r--r--  2.0 unx     1293 b- defN 23-Nov-08 19:07 archive_ops/test/test_api.py
 -rw-r--r--  2.0 unx    10992 b- defN 23-Nov-08 19:07 migrate_works/ArchiveMigrator.py
 -rw-r--r--  2.0 unx     3024 b- defN 23-Nov-08 19:07 migrate_works/MigrateLocks.py
 -rw-r--r--  2.0 unx       93 b- defN 23-Nov-08 19:07 migrate_works/__init__.py
 -rw-r--r--  2.0 unx     4280 b- defN 23-Nov-08 19:07 migrate_works/measure_archive_fixity.py
 -rw-r--r--  2.0 unx     1236 b- defN 23-Nov-08 19:07 migrate_works/migrate_works_shell.py
 -rw-r--r--  2.0 unx        0 b- defN 21-Apr-29 21:59 tests/__init__.py
@@ -26,18 +31,18 @@
 -rw-r--r--  2.0 unx      555 b- defN 21-Jul-14 23:35 tests/testMigrateLocks.py
 -rw-r--r--  2.0 unx     3363 b- defN 22-Feb-02 20:03 tests/test_DipLog_parser.py
 -rw-r--r--  2.0 unx     2322 b- defN 23-Nov-08 19:07 tests/test_DrsContextBase.py
 -rw-r--r--  2.0 unx     3028 b- defN 23-Nov-08 19:07 tests/test_get_buda.py
 -rw-r--r--  2.0 unx     1813 b- defN 21-Dec-01 21:16 tests/test_get_work_facts.py
 -rw-r--r--  2.0 unx     2204 b- defN 21-Dec-01 21:16 tests/test_save_work_facts.py
 -rw-r--r--  2.0 unx     2233 b- defN 23-Nov-08 19:07 tests/test_shell_ws.py
--rw-r--r--  2.0 unx     5338 b- defN 23-Nov-08 19:07 util_lib/AOLogger.py
+-rw-r--r--  2.0 unx     5668 b- defN 24-Apr-26 15:32 util_lib/AOLogger.py
 -rw-r--r--  2.0 unx     6748 b- defN 23-Nov-08 19:11 util_lib/GetFromBUDA.py
 -rw-r--r--  2.0 unx       32 b- defN 21-May-12 16:05 util_lib/__init__.py
--rw-r--r--  2.0 unx     2268 b- defN 24-Feb-20 17:10 util_lib/utils.py
+-rw-r--r--  2.0 unx     5489 b- defN 24-Apr-25 20:06 util_lib/utils.py
 -rw-r--r--  2.0 unx      272 b- defN 21-Aug-31 20:37 util_lib/version.py
--rw-r--r--  2.0 unx    10361 b- defN 24-Mar-11 19:45 bdrc_util-1.0.1.dist-info/METADATA
--rw-r--r--  2.0 unx       92 b- defN 24-Mar-11 19:45 bdrc_util-1.0.1.dist-info/WHEEL
--rw-r--r--  2.0 unx      710 b- defN 24-Mar-11 19:45 bdrc_util-1.0.1.dist-info/entry_points.txt
--rw-r--r--  2.0 unx       41 b- defN 24-Mar-11 19:45 bdrc_util-1.0.1.dist-info/top_level.txt
--rw-rw-r--  2.0 unx     3384 b- defN 24-Mar-11 19:45 bdrc_util-1.0.1.dist-info/RECORD
-41 files, 119001 bytes uncompressed, 38872 bytes compressed:  67.3%
+-rw-r--r--  2.0 unx     9089 b- defN 24-May-06 18:49 bdrc_util-1.0.2.dist-info/METADATA
+-rw-r--r--  2.0 unx       92 b- defN 24-May-06 18:49 bdrc_util-1.0.2.dist-info/WHEEL
+-rw-r--r--  2.0 unx      766 b- defN 24-May-06 18:49 bdrc_util-1.0.2.dist-info/entry_points.txt
+-rw-r--r--  2.0 unx       41 b- defN 24-May-06 18:49 bdrc_util-1.0.2.dist-info/top_level.txt
+-rw-rw-r--  2.0 unx     3824 b- defN 24-May-06 18:49 bdrc_util-1.0.2.dist-info/RECORD
+46 files, 156583 bytes uncompressed, 51154 bytes compressed:  67.3%
```

## zipnote {}

```diff
@@ -1,16 +1,28 @@
 Filename: archive_ops/CleanCurrent.py
 Comment: 
 
+Filename: archive_ops/DeepArchive.py
+Comment: 
+
+Filename: archive_ops/DeepArchiveParser.py
+Comment: 
+
 Filename: archive_ops/DipLog.py
 Comment: 
 
 Filename: archive_ops/GetReadyWorksForStates.py
 Comment: 
 
+Filename: archive_ops/InvertWork.py
+Comment: 
+
+Filename: archive_ops/InvertWorkException.py
+Comment: 
+
 Filename: archive_ops/Resolvers.py
 Comment: 
 
 Filename: archive_ops/SaveWorkFacts.py
 Comment: 
 
 Filename: archive_ops/TestGetReadyWorksForStates.py
@@ -39,14 +51,17 @@
 
 Filename: archive_ops/test/GetDIPReadyTest.py
 Comment: 
 
 Filename: archive_ops/test/__init__.py
 Comment: 
 
+Filename: archive_ops/test/inversion_bag_test.py
+Comment: 
+
 Filename: archive_ops/test/test_api.py
 Comment: 
 
 Filename: migrate_works/ArchiveMigrator.py
 Comment: 
 
 Filename: migrate_works/MigrateLocks.py
@@ -102,23 +117,23 @@
 
 Filename: util_lib/utils.py
 Comment: 
 
 Filename: util_lib/version.py
 Comment: 
 
-Filename: bdrc_util-1.0.1.dist-info/METADATA
+Filename: bdrc_util-1.0.2.dist-info/METADATA
 Comment: 
 
-Filename: bdrc_util-1.0.1.dist-info/WHEEL
+Filename: bdrc_util-1.0.2.dist-info/WHEEL
 Comment: 
 
-Filename: bdrc_util-1.0.1.dist-info/entry_points.txt
+Filename: bdrc_util-1.0.2.dist-info/entry_points.txt
 Comment: 
 
-Filename: bdrc_util-1.0.1.dist-info/top_level.txt
+Filename: bdrc_util-1.0.2.dist-info/top_level.txt
 Comment: 
 
-Filename: bdrc_util-1.0.1.dist-info/RECORD
+Filename: bdrc_util-1.0.2.dist-info/RECORD
 Comment: 
 
 Zip file comment:
```

## archive_ops/DipLog.py

```diff
@@ -1,9 +1,10 @@
 import sys
 from datetime import datetime
+from typing import Optional
 
 from BdrcDbLib.DbAppParser import DbAppParser, str2datetime, DbArgNamespace
 from BdrcDbLib.DbApp import DbApp
 
 # Constants
 from util_lib.version import ver_check
 
@@ -150,16 +151,23 @@
     """
     Send a log entry to the database
     """
 
     def __init__(self, db_config: str):
         super().__init__(db_config)
 
-    def set_dip(self, activity_name: str, begin_t: datetime, end_t: datetime, s_path: str, d_path: str, work_name: str,
-                dip_id: str, ac_result: int, comment: str) -> str:
+    def set_dip(self, activity_name: Optional[str] ,
+                begin_t: Optional[datetime] ,
+                end_t: Optional[datetime] ,
+                s_path: Optional[str] ,
+                d_path: Optional[str] ,
+                work_name: Optional[str] ,
+                dip_id: Optional[str] ,
+                ac_result: Optional[int] ,
+                comment: Optional[str]) -> str:
         """
         Call the SQL and retrieve the dip activity ID it generated :param activity_name: the type of activity (e.g.
         BUDA, DEEP_ARCHIVE) :param begin_t: begin time :param end_t: end time or null :param s_path: source path
         :param activity_name: a value in dip_activity_types.dip_activity_types_label
         :param begin_t: begin time
         :param end_t: end time
         :param s_path: source path
```

## archive_ops/api.py

```diff
@@ -1,13 +1,13 @@
 """
 Utility facade
 """
 from util_lib import GetFromBUDA as ao_buda
-from .Resolvers import Resolvers
-from .shell_ws import get_mappings
+from archive_ops.Resolvers import Resolvers
+from archive_ops.shell_ws import get_mappings
 
 
 def get_archive_location(root: str, resource: str, resolver: Resolvers = Resolvers.TWO) -> str:
     """
     Resolves the Archive location of a resource. 
     :param root: parent of mapped resource
     :param resource: RID, typically work RID
```

## util_lib/AOLogger.py

```diff
@@ -1,14 +1,19 @@
 import logging
 import os
 import warnings
 from pathlib import Path
 import boto3
 
 log_date_fmt = '[ %Z: %Y-%m-%d %X ]'
+DEFAULT_LOG_SIZE: int = 4096000  # 4MB, unless overridden
+DEFAULT_LOG_ROTATION = 100
+DEFAULT_QUIET_LOGGERS: [str] = ['boto', 'botocore', 'boto3', 'requests', 'urllib3', 'request', 's3transfer', 'PIL',
+                                'asyncio']
+
 
 class AOLogger:
     """
     Sets up logging and message distribution.
 
     Uses logging enums:
 
@@ -21,70 +26,72 @@
     """
 
     logging_session: object
     logging_sns_client: boto3.client
     py_logger: logging = None
     app_name: str
 
-    def __init__(self, app_name: str, log_level: str, log_file_root: Path):
+    def __init__(self, app_name: str, log_level: str, log_file_root: Path, max_bytes: int = DEFAULT_LOG_SIZE,
+                 backup_count: int = DEFAULT_LOG_ROTATION, extra_quiet_loggers: [str] = None):
         """
         app global start up logger. All app libraries use
         import logging
 
         my_log = logging.get_logger(__name__)
         to emit
         <time> <__name__>-LEVEL: message
         :type log_file_root: object
         :param log_level: string rep of python logging level
         :type log_level: str
         :return:
         """
-        from datetime import datetime
         from logging.handlers import RotatingFileHandler
 
         # Params
         self.app_name = app_name
-        now: datetime = datetime.now()
 
         instance_id = f"{app_name}.log"
 
         self._log_file_path: Path = Path(str(log_file_root), instance_id)
         if not os.access(str(log_file_root), os.W_OK):
             raise NotADirectoryError(f"{log_file_root} is not  writable or does not exist")
 
-        main_handler = RotatingFileHandler(str(self.log_file_name), maxBytes=4096000, backupCount=100)
+        main_handler = RotatingFileHandler(str(self._log_file_path), maxBytes=max_bytes, backupCount=backup_count)
 
         log_num_level: int = (getattr(logging, log_level.upper(), logging.INFO))
         # noinspection PyArgumentList
         logging.basicConfig(format='%(asctime)s:%(name)s-%(levelname)s: %(message)s', level=log_num_level,
-                            handlers=[main_handler],datefmt=log_date_fmt)
-        # This gets a sublogger which should use the root logger above.
+                            handlers=[main_handler], datefmt=log_date_fmt)
+        # This gets a sub logger which should use the root logger above.
         # submodule
         self.py_logger = logging.getLogger(app_name)
 
         # create formatter and add it to the handlers
         # formatter = logging.Formatter()
         #
         # # Nothing fancy, just rotating log handler
         #
         # main_handler.setFormatter(formatter)
         # main_handler.setLevel(log_num_level)
         #
         # # This should be the parent of all loggers
         # logging.getLogger('').addHandler(main_handler)
 
-        for quiet_logger in ['boto', 'botocore', 'boto3', 'requests', 'urllib3', 'request', 's3transfer', 'PIL', 'asyncio' ]:
+        if extra_quiet_loggers:
+            DEFAULT_QUIET_LOGGERS.extend(extra_quiet_loggers)
+
+        for quiet_logger in DEFAULT_QUIET_LOGGERS:
             ql = logging.getLogger(quiet_logger)
             ql.setLevel(logging.CRITICAL)
             ql.propagate = True
 
         #
         # SNS client
 
-        # Do we have an ARN? Dont encode in public.
+        # Do we have an ARN? Don't encode in public.
         # See https://serverfault.com/questions/413397/how-to-set-environment-variable-in-systemd-service
         self.sns_arn = os.environ.get('AO_AWS_SNS_TOPIC_ARN')
         self.logging_session = boto3.session.Session(region_name='us-east-1')
         self.logging_sns_client = self.logging_session.client('sns')
 
     def log(self, logging_level: int, message: str):
         """
@@ -99,15 +106,15 @@
                 and logging_level != logging.ERROR \
                 and logging_level != logging.WARNING \
                 and logging_level != logging.INFO \
                 and logging_level != logging.DEBUG:
             warnings.warn(f"Invalid logging {logging_level} given. Contact author")
             return
 
-        if (self.py_logger.isEnabledFor(logging_level)):
+        if self.py_logger.isEnabledFor(logging_level):
             print(f"{logging.getLevelName(logging_level)} - {message}")
             self.py_logger.log(logging_level, message)
 
         # jimk: volume-manifest-builder #37 hushing the SNS message
         if not self.hush:
             if self.sns_arn:
                 if logging_level == logging.CRITICAL \
```

## util_lib/utils.py

```diff
@@ -1,29 +1,27 @@
 """
 utilities shared by bdrc_utils
 """
-import argparse
+
 import os
-import sys
-from pathlib import Path
-from typing import AnyStr
+from typing import AnyStr, Any
 
 
-def reallypath(what_path: AnyStr) -> Path:
+def reallypath(what_path: AnyStr) ->  Any:
     """
     Resolves everything about the path
     :param what_path: Pathlike object
     :return: fully resolved path
     """
     from os import path
 
     # jimk #499: detect non-file paths and don't expand
     if what_path is None:
         return None
-    # Regex more elegant, but need fastway to say UNCs must be at beginning
+    # Regex more elegant, but need fast way to say UNCs must be at beginning
     if what_path.find('://') > 0 or what_path.startswith('//') or what_path.startswith('\\'):
         return what_path
 
     return path.realpath(path.expandvars(path.expanduser(what_path)))
 
 
 def get_work_facts(a_path: str) -> (int, int):
@@ -59,18 +57,146 @@
             _page_size += sum(getsize(join(root, name)) for name in files)
             _page_count += len(files)
         else:
             _size += sum(getsize(join(root, name)) for name in files)
             _count += len(files)
     return _size, _count, _page_size, _page_count
 
-class VW():
+
+class VW:
     def __init__(self, token: str, token_sep: str = '-'):
         """
         splits a workgroup directory name into its component parts
         :param token: object to parse
         :param token_sep: separator character
         """
         parts = token.split(token_sep)
         self.work_rid = parts[0]
         self.ig_rid = parts[1]
 
+
+# Set of AWS tag sets for works - hardwired
+# See ~/dev/archive-ops/scripts/glacier/uploadWorkToGlacier.sh
+# projectTag=$(work_s3_project $workRID)
+# aws_object_info=$(aws s3api put-object-tagging \
+#     --bucket "${glacierBucket}" \
+#     --key "${aws_object_key}" \
+#     --tagging "TagSet=[{Key=project,Value=${projectTag}}]")
+# fi
+# printf "$(log_date)[${ME}]:dip activity id:%s\n" \
+
+# {'FPL':
+#     {'Tagging': {
+#         'TagSet': [
+#             {
+#                 'Key': 'project',
+#                 'Value': 'FPL'
+#             },
+#         ]
+#     }
+#     }
+# }
+work_tag_sets: [] = [
+    {
+        'NLM':
+            {
+                'Key': 'project',
+                'Value': 'NLM'
+            },
+        # can add other KV pairs if desired
+    },
+    {
+        'FPL':
+            {
+                'Key': 'project',
+                'Value': 'FPL'
+            },
+        'W8LS':
+            {
+                'Key': 'project',
+                'Value': 'OwdyHay'
+            },
+    }
+]
+
+base_tag: {} = {
+    'Tagging': {
+        'TagSet': [
+            {'Key': 'owner',
+             'Value': 'ao'
+             }
+        ]
+    }
+}
+
+
+class AOS3WorkTag:
+    """
+    Interface to work with tags for S3 objects that AO manages
+
+    """
+
+    def __init__(self, work_rid: str):
+        """
+        Populate for a work_rid
+        :param work_rid:
+        """
+        self._work_rid = work_rid
+        self._tag = self.json_tag()
+
+    @property
+    def tag(self) -> {}:
+        return self._tag
+
+    def json_tag(self) -> {}:
+        """
+        return an S3 'Tagging' dictionary for a work (like ~/dev/archive-ops/scripts/syncAnywhere/init_sys.sh)
+        :return: dictionary of tags. This is a useful format for 'put_object_tagging'
+        Input is work_tag_sets. Output is one or more  dictionaries with keys 'Key' and 'Value'
+        """
+        import copy
+        rc_tag: dict = copy.deepcopy(base_tag)
+        for work_tag_item in work_tag_sets:
+            for work_tag_key, work_tag_value in work_tag_item.items():
+                if work_tag_key in self._work_rid:
+                    rc_tag['Tagging']['TagSet'].append(work_tag_value)
+        return rc_tag
+
+    @property
+    def extra_args_tag(self) -> {}:
+        """
+        Returns the work tags formatted for use in the upload_object ExtraArgs
+        :return:
+        """
+        td = self.tag['Tagging']['TagSet']
+
+    # result = []
+    # for dict_obj in list_of_dicts:
+    # return '&'.join(result)
+        result:[] = []
+        # in
+        for t_dict in td:
+            key: str = t_dict['Key']
+            val: str = t_dict['Value']
+            key_value_pairs = [f'{key}={val}']
+            result.append('&'.join(key_value_pairs))
+        return {'Tagging' : f"{'&'.join(result)}"}
+
+
+def tag_object(bucket: str, key: str, tag_set: []):
+    """
+    Add a set of tag to an AWS s3 object
+    :param bucket:
+    :param key:
+    :param tag_set:
+    :return:
+    """
+    import boto3
+    s3 = boto3.client('s3')
+    s3.put_object_tagging(Bucket=bucket, Key=key, Tagging=tag_set)
+
+
+def transform_list_of_dicts(list_of_dicts):
+    result = []
+    for dict_obj in list_of_dicts:
+        result.append('&'.join(f'{key}={value}' for key, value in dict_obj.items()))
+    return '&'.join(result)
```

## Comparing `bdrc_util-1.0.1.dist-info/METADATA` & `bdrc_util-1.0.2.dist-info/METADATA`

 * *Files 8% similar despite different names*

```diff
@@ -1,10 +1,10 @@
 Metadata-Version: 2.1
 Name: bdrc-util
-Version: 1.0.1
+Version: 1.0.2
 Summary: BDRC Utilities
 Home-page: https://github.com/buda-base/archive-ops/tree/master/bdrc-util
 Author: jimk
 Author-email: jimk@bdrc.io
 Classifier: Programming Language :: Python :: 3
 Classifier: License :: OSI Approved :: MIT License
 Classifier: Operating System :: OS Independent
@@ -173,14 +173,15 @@
     - end time
     - operation return code
 
 * Obviously, since these are the tuple which identifies the transaction, you cannot modify:
     - work name
     - begin time
     - activity type
+    - dip_external_id (this is a read only argument supplied by the caller of `log_dip`)
 
 In this example, the comments field is updated.
 
 ```shell
 dip_log_id=$( dip_log -d sec:some.config -b "2021-05-11 01:23:45" -a DRS -w W12345  -r 42 -e "2021-05-11 12:34:56 -c "Experienced some discomfort")
 dip_log -d sec:some.config -i $dip_log_id  -c "But it passed.")
 ``` 
@@ -192,41 +193,60 @@
 * the comment field is a free-form text field of up to 4GB in length. You can store XML or JSON data in it for later
   use. (such as any error messages
   or summary information about the process or the objects being processed)
 
 # API
 
 A simple API, inspired by `openpecha.buda.api` is provided as a central library for commonly used utilities, including
-Legacy Hack
-Image Group Translation
+Legacy Hack Image Group Translation
+
+# TODO: Document API
 
 To use in your code, `pip install bdrc-util>=0.9.44`
 
 # bdrc-util Changelog
 
-| version | commit                                                                                                  | Comments                                                  |
-|---------|---------------------------------------------------------------------------------------------------------|-----------------------------------------------------------|
-| 1.0.1   | [ccd9865](https://github.com/buda-base/archive-ops/pull/1068/commits/ccd9865df60877b5bbaf8e442db627af8a5fa652) | `dip_log` passes db config to ORM |
-| 0.9.48  | [9573f3c](https://github.com/buda-base/archive-ops/commit/9573f3c7874af0e3e35b88143248898516a7a463)     | optional symlink resolution                               |
-| 0.9.47  | [192c43f4](https://github.com/buda-base/archive-ops/commit/b7dd40c9a928007bfda076ec4ff5a6e48cde0c99)    | Add s3pathlib to install requirements                     |
-| 0.9.46  | [e14b3a6](https://github.com/buda-base/archive-ops/commit/e14b3a64c5a2618e261aba074403057f18479f51)     | decomission web in favor of api                           |
-| 0.9.45  | [89724ee](https://github.com/buda-base/archive-ops/commit/89724eec20b1861f1611fadbe1d46a9c7df14025)     | Raise pageSize for Get volumes                            |
-| 0.9.44  | [TBD](https://github.com/buda-base/archive-ops/commit/013242a8a05c47173d94156f13d881364eea06ce)         | Move Resolvers to api                                     | 
-| 0.9.43  | [013242a](https://github.com/buda-base/archive-ops/commit/013242a8a05c47173d94156f13d881364eea06ce)     | cacheing to reduce load on server                         | 
-| 0.9.42  | [146bc43a](https://github.com/buda-base/archive-ops/commit/146bc43ac4b1e6938398b44c1fcb682cdfe1aba1)    | support buda-dld                                          | 
-| 0.9.41  | [0d01394](https://github.com/buda-base/archive-ops/commit/0d0139448d80b2900f2212b99c40c973ef060532)     | print, dont return from `disk_ig_from_buda`               | 
-| 0.9.40  |                                                                                                         | Rename get_image_groups                                   | 
-| 0.9.39  |                                                                                                         | Added measure archive fixity                              | 
-|         |                                                                                                         | Shorten log file name                                     | 
-| 0.9.38  |                                                                                                         | Added RST documentation to setup.                         |
-|         |                                                                                                         | Added minimum requirement for bdrc-db-lib                 | 
-| 0.9.34  |                                                                                                         | Use external address for resolver                         |
-| 0.9.32  | be754999                                                                                                | Create entry points for image group renaming              |
-| 0.9.31  | 192eea17                                                                                                | (not released) single entry point for image group renames | 
-| 0.9.30  | 83c5062a                                                                                                | Add Work calculation size to script                       |
+| version | commit | Comments |
+|---------|----------------------------------------------------------------------------------------------------------------|-----------------------------------------------------------| |
+| 1.0.2 | (many) | Invert works for deep archive |
+| 1.0.1 | [ccd9865](https://github.com/buda-base/archive-ops/pull/1068/commits/ccd9865df60877b5bbaf8e442db627af8a5fa652) | `dip_log`
+passes db config to ORM |
+|
+0.9.48 | [9573f3c](https://github.com/buda-base/archive-ops/commit/9573f3c7874af0e3e35b88143248898516a7a463)            |
+optional symlink resolution |
+|
+0.9.47 | [192c43f4](https://github.com/buda-base/archive-ops/commit/b7dd40c9a928007bfda076ec4ff5a6e48cde0c99)           |
+Add s3pathlib to install requirements |
+|
+0.9.46 | [e14b3a6](https://github.com/buda-base/archive-ops/commit/e14b3a64c5a2618e261aba074403057f18479f51)            |
+decomission web in favor of api |
+|
+0.9.45 | [89724ee](https://github.com/buda-base/archive-ops/commit/89724eec20b1861f1611fadbe1d46a9c7df14025)            |
+Raise pageSize for Get volumes |
+|
+0.9.44 | [TBD](https://github.com/buda-base/archive-ops/commit/013242a8a05c47173d94156f13d881364eea06ce)                |
+Move Resolvers to api |
+|
+0.9.43 | [013242a](https://github.com/buda-base/archive-ops/commit/013242a8a05c47173d94156f13d881364eea06ce)            |
+cacheing to reduce load on server |
+|
+0.9.42 | [146bc43a](https://github.com/buda-base/archive-ops/commit/146bc43ac4b1e6938398b44c1fcb682cdfe1aba1)           |
+support buda-dld |
+|
+0.9.41 | [0d01394](https://github.com/buda-base/archive-ops/commit/0d0139448d80b2900f2212b99c40c973ef060532)            |
+print, dont return from `disk_ig_from_buda`               |
+| 0.9.40 | | Rename get_image_groups |
+| 0.9.39 | | Added measure archive fixity |
+| | | Shorten log file name |
+| 0.9.38 | | Added RST documentation to setup. |
+| | | Added minimum requirement for bdrc-db-lib |
+| 0.9.34 | | Use external address for resolver |
+| 0.9.32 | be754999 | Create entry points for image group renaming |
+| 0.9.31 | 192eea17 | (not released) single entry point for image group renames |
+| 0.9.30 | 83c5062a | Add Work calculation size to script |
```

## Comparing `bdrc_util-1.0.1.dist-info/entry_points.txt` & `bdrc_util-1.0.2.dist-info/entry_points.txt`

 * *Files 8% similar despite different names*

```diff
@@ -1,9 +1,10 @@
 [console_scripts]
 buda_ig_from_disk = util_lib.GetFromBUDA:buda_ig_from_disk
+deep-archive = archive_ops.DeepArchive:deep_archive_cli
 disk_ig_from_buda = util_lib.GetFromBUDA:disk_ig_from_buda
 disk_igs_for_work = util_lib.GetFromBUDA:get_ig_folders_from_igs
 get_buda_image_count = util_lib.GetFromBUDA:get_image_count
 get_works_for_activity = archive_ops.GetReadyWorksForStates:get_works_states_shell
 locate_archive = archive_ops.shell_ws:locate_archive
 log_dip = archive_ops.DipLog:dip_log_shell
 migrate_works = migrate_works.migrate_works:migrate_works_shell
```

## Comparing `bdrc_util-1.0.1.dist-info/RECORD` & `bdrc_util-1.0.2.dist-info/RECORD`

 * *Files 14% similar despite different names*

```diff
@@ -1,22 +1,27 @@
 archive_ops/CleanCurrent.py,sha256=FCe8VtgShSDD_CNSGN1IqdGroKL_52rqa8koYPb6c8Q,2823
-archive_ops/DipLog.py,sha256=BO_0DDfsH7kkRv_N_UKsAJ9YqZo_0mSMCDiRlpOmrkc,9280
+archive_ops/DeepArchive.py,sha256=7j4y9Mm9iKWZcF8P41t43BRI3x9qQQY8HhG2CK7QC6M,14677
+archive_ops/DeepArchiveParser.py,sha256=V20zzxQv00tkPjr6UJK8xucPA1kefL08jrvVWSs-_cM,2022
+archive_ops/DipLog.py,sha256=A2Rtq_kWRy_kmaiE_PRgB-uKGGr18nP0jsXRCcpfomU,9518
 archive_ops/GetReadyWorksForStates.py,sha256=o1f-3b-VKBh4RPrTO7iURquFurKPl6ICA7KUvouo_cY,4096
+archive_ops/InvertWork.py,sha256=zK6UTKkreaCnr0ATgM5Wa0zfWWrHHC0CRX3hlirZ8bQ,10326
+archive_ops/InvertWorkException.py,sha256=WIxDKP38Gr2_DxgEDx5CNgNtXEIA0MZM2lX6b0yIQaQ,137
 archive_ops/Resolvers.py,sha256=9GUGaD8kVW0jf6fVSq0tgZDsZDaWINngEYbGSzQ6vA8,249
 archive_ops/SaveWorkFacts.py,sha256=tACaDoQUsmG6CEriPS1TSe9bplKuHtwI7Ovvu57s1Ng,2851
 archive_ops/TestGetReadyWorksForStates.py,sha256=OuwFjQzxcGCSuDEuJl1u1RnV_oJh2ZFOtR_NLTw_IcI,6130
 archive_ops/__init__.py,sha256=47DEQpj8HBSa-_TImW-5JCeuQeRkm5NMpJWZG3hSuFU,0
-archive_ops/api.py,sha256=jNs2brQCJui6tP1f32kxV3Zj9WDaRfS81lIFJK3jUzk,2118
+archive_ops/api.py,sha256=z52JsEXZENCPrZozAj-0kEBqYe7P9ZF0oFTjtbDf-Ro,2140
 archive_ops/locators.py,sha256=2Oabe7XAjyZq4vQe5HXdIE8T8pSGem_LON-TnM7nZDY,4023
 archive_ops/shell.py,sha256=upQnzS-5xgiMhP83xyv3cklcCGioXgJq6Qi4UFtfmWE,2021
 archive_ops/shell_ws.py,sha256=iAdvqTvPG_YJd6IvxsEsCip8YpP96x1e4552NF1zMfw,2438
 archive_ops/test/DipLogParserTest.py,sha256=gL7A18tWDJ-ceIVtfebQVGvwobGtuMxUIcAgc2ju0iU,9577
 archive_ops/test/DipLogTest.py,sha256=Bz9JpcOkxUAljHRL4ZUzmngtABSL8_KFkuv__GxrPrg,984
 archive_ops/test/GetDIPReadyTest.py,sha256=mY0aS68z74wAI7tXuRGXKSNqX8hsVkIcpzggOaD1WKA,685
 archive_ops/test/__init__.py,sha256=47DEQpj8HBSa-_TImW-5JCeuQeRkm5NMpJWZG3hSuFU,0
+archive_ops/test/inversion_bag_test.py,sha256=G-P8SiQbPQx-XS3Vo4BtlPg2lCQKFYXvGF6jtzl4d0I,7385
 archive_ops/test/test_api.py,sha256=inMziUrEXJiOphjiws039CQ5EIsbu9LIzbjTCIpSfHk,1293
 migrate_works/ArchiveMigrator.py,sha256=NgRLO3a86rABzBTRkaZS-vzu7070Xqxf3GoI5iHO1JA,10992
 migrate_works/MigrateLocks.py,sha256=q_3dSSBsFV-me9TcjVvk7qZmrRKiNCrhBIkaiJB6lZo,3024
 migrate_works/__init__.py,sha256=1M6gI5tSVLGs_TDx-fNGjnMlNsPgZjogjFs3Xv9hVqg,93
 migrate_works/measure_archive_fixity.py,sha256=DhNDPzWncSKb_KXdRi_2ZSyf6uylvJO1zgpiue9lEag,4280
 migrate_works/migrate_works_shell.py,sha256=ZKd705pQ0ys7tGmvwZ1SHbT6zK3MKuXtCCIrRT22REc,1236
 tests/__init__.py,sha256=47DEQpj8HBSa-_TImW-5JCeuQeRkm5NMpJWZG3hSuFU,0
@@ -25,17 +30,17 @@
 tests/testMigrateLocks.py,sha256=QLBXecDuhpYdyb3vKWiMYLY7QUjMAiSz4f9QJu4TaFU,555
 tests/test_DipLog_parser.py,sha256=F-qIPUTouXh2plLARjbA7Su0lN_MItaUmXQYS5W8ldY,3363
 tests/test_DrsContextBase.py,sha256=KOk_GED6o14CPcYnCzAmvA-0ZHboKTg7TdO8Av2cKjA,2322
 tests/test_get_buda.py,sha256=4t03AQFs1c84ye95IpuW89cpabMrVyoBKJH1vxubxr0,3028
 tests/test_get_work_facts.py,sha256=-733RWCkIyklhUlL8fxDsVqTCnmW2z22gjvWwjwdR5Y,1813
 tests/test_save_work_facts.py,sha256=AGENAL03-UwsssyaUwHhPiLC8K9glMiO-5gT-hkU_WM,2204
 tests/test_shell_ws.py,sha256=VzJzvwQs5kFIqgsMxLyDezFtsKGPgSGK3NvKqi_vUos,2233
-util_lib/AOLogger.py,sha256=EMO5RugLFcA2Dh4HODx3AWMOgdE7fz1PMXS5WNdGgRU,5338
+util_lib/AOLogger.py,sha256=-9dk7F824HYpl0n8UAG9IvhSRkU9GrIVeuQa7r5ezZI,5668
 util_lib/GetFromBUDA.py,sha256=76P9w95x30XvzhMMenzXw4kkTC1x7fEbr3IMmmQQQ6c,6748
 util_lib/__init__.py,sha256=t3KW3sVnRHRvukcKJzhUi-E6koZXtuukwgHgVkuHSBg,32
-util_lib/utils.py,sha256=Ze8HBcKozKC769r8gzsrEi8CsR9F149z_JcvtdG5xSw,2268
+util_lib/utils.py,sha256=OUJtZ_wUfpbk7_Mh9Wdv0MKrU9VXOiqSJjFtsVs7I6o,5489
 util_lib/version.py,sha256=yXROIhwRbzjukFCLLVJMRNdj81PS5wFSOXKr5TPZXLo,272
-bdrc_util-1.0.1.dist-info/METADATA,sha256=2kahreAqGR8hwhAtLrTHjdBm2GYfqb106Qwg_ftzelE,10361
-bdrc_util-1.0.1.dist-info/WHEEL,sha256=yQN5g4mg4AybRjkgi-9yy4iQEFibGQmlz78Pik5Or-A,92
-bdrc_util-1.0.1.dist-info/entry_points.txt,sha256=hFgGQxRbjW_mbbqq0I32puAk9KzdKJLIHRYjNojWlyY,710
-bdrc_util-1.0.1.dist-info/top_level.txt,sha256=WDNCxz6MzRhuWA7iB_yO8waem2IZnqnZ5lho2mb8Gco,41
-bdrc_util-1.0.1.dist-info/RECORD,,
+bdrc_util-1.0.2.dist-info/METADATA,sha256=SelagZxT2JZLzNe-AG19FAIY7TeVAWtgEi6qSb7RH9c,9089
+bdrc_util-1.0.2.dist-info/WHEEL,sha256=yQN5g4mg4AybRjkgi-9yy4iQEFibGQmlz78Pik5Or-A,92
+bdrc_util-1.0.2.dist-info/entry_points.txt,sha256=-5xAi2Z_0umreQfER0juuqBY9QtNHRofNlyoNMHUk5c,766
+bdrc_util-1.0.2.dist-info/top_level.txt,sha256=WDNCxz6MzRhuWA7iB_yO8waem2IZnqnZ5lho2mb8Gco,41
+bdrc_util-1.0.2.dist-info/RECORD,,
```

